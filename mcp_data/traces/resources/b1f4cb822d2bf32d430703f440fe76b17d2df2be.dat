AdfUIComponents.createComponentClass("AdfRichSelectOneChoice",{componentType:"oracle.adf.RichSelectOneChoice",propertyKeys:[{name:"changed",type:"Boolean","default":!1},{name:"changedDesc",type:"String"},{name:"autoSubmit",type:"Boolean","default":!1},{name:"accessKey",type:"String"},{name:"contentStyle",type:"String"},{name:"helpTopicId",type:"String"},{name:"disabled",type:"Boolean","default":!1,secured:!0},{name:"label",type:"String"},{name:"readOnly",type:"Boolean","default":!1,secured:!0},{name:"showRequired",
type:"Boolean","default":!1},{name:"simple",type:"Boolean","default":!1},{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},{name:"valuePassThru",type:"Boolean","default":!1,secured:!0},{name:"editable",type:"String","default":"inherit"},{name:"unselectedLabel",type:"String"},{name:"mode",type:"String","default":"default"}],superclass:AdfUISelectOne});
AdfRichUIPeer.createPeerClass(AdfDhtmlSelectOneListbasePeer,"AdfDhtmlSelectOneChoicePeer");
AdfDhtmlSelectOneChoicePeer.InitSubclass=function(){AdfRichUIPeer.addComponentPropertyGetters(this,AdfUIEditableValue.SUBMITTED_VALUE,AdfUISelectOne.SELECT_ITEMS,AdfRichSelectOneChoice.LABEL);AdfRichUIPeer.addComponentPropertyChanges(this,AdfRichSelectOneChoice.LABEL,AdfRichSelectOneChoice.DISABLED);AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.BLUR_EVENT_TYPE,AdfUIInputEvent.FOCUS_EVENT_TYPE,AdfUIInputEvent.CLICK_EVENT_TYPE,AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE,AdfUIInputEvent.KEY_DOWN_EVENT_TYPE,
AdfUIInputEvent.KEY_PRESS_EVENT_TYPE);AdfAgent.AGENT.isTouchFirstDevice()||AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.MOUSE_IN_EVENT_TYPE);this._CONTENT_ID="content";this._COMPACT="compact";this._DROPDOWN_ID="drop";this._POPUP_ID="pop";this._POPUP_WRAPPER_ID="popWrap";this._SPACER_ID="sp";this._POPUP_PANEL_ID="_afrSelectOnePopupPanel";this._SCROLL_STYLE="p_AFScroll";this._SELECTED_STYLE_CLASS="p_AFSelected";this._HIGHLIGHTED_STYLE_CLASS="p_AFHighlighted";this._TEMP_OPTION_KEY="_adfTmpOpt";
this._KEYBOARD_TYPE_DELAY=250};AdfDhtmlSelectOneChoicePeer.prototype.InitDomElement=function(a,b){this.StashOldValue(a,b);this._adjustWidth(a,b)};
AdfDhtmlSelectOneChoicePeer.prototype.LazyInitialize=function(a,b){AdfDhtmlSelectOneChoicePeer.superclass.LazyInitialize.call(this,a,b);var c=AdfDhtmlEditableValuePeer.getContentNode(a,b);if(c)if(this._isCompactOrCustomModeSupported(a))a.getReadOnly()||c.setAttribute("aria-expanded","false");else if(AdfRichUIPeer.addEventHandlerToDomInstance(AdfDhtmlSelectOneChoicePeer,c,AdfDhtmlLookAndFeel.CHANGE_EVENT_TYPE),c=c.options){var d=c.length,e;for(e=0;e<d;e++)if(null==c[e].title||""==c[e].title)c[e].title=
c[e].text}};AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentBlur=function(a){a=a.getSource();var b=this.getDomElement();!this.isPopupVisible(a,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID)&&this._isCompactOrCustomModeSupported(a)&&this.ValidateAndStashNewValue(a,b)};
AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentMouseDown=function(a){if(a.getEventPhase()==AdfBaseEvent.AT_TARGET_PHASE){var b=a.getSource();if(this._isCompactOrCustomModeSupported(b)&&!b.getDisabled()&&!b.getReadOnly()){a=a.getNativeEvent();var c=AdfAgent.AGENT;a=c.getEventTarget(a);var d=AdfRichUIPeer.getDomElementForComponent(b),e=c.getElementById(AdfRichUIPeer.createSubId(b.getClientId(),AdfDhtmlSelectOneChoicePeer._DROPDOWN_ID)),c=this._isCompact(b)&&a==AdfDhtmlSelectOneChoicePeer._getLabelElementInCompactMode(b),
f=a==AdfDhtmlEditableValuePeer.getContentNode(b),e=a==e||a.parentNode==e;c||f||e?this.isPopupVisible(b,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID)?this.hidePopup(b,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID):this._showPopupPanel(b):(d==a||AdfDomUtils.isAncestor(d,a))&&this.isPopupVisible(b,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID)&&this.hidePopup(b,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID);AdfFocusUtils.focusElement(this._getFocusElement(b))}}};
AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentClick=function(a){if(a.getEventPhase()==AdfBaseEvent.AT_TARGET_PHASE){AdfDhtmlSelectOneChoicePeer.superclass.HandleComponentClick.call(this,a);var b=a.getSource();if(this._isCompactOrCustomModeSupported(b)){var c=a.getNativeEventTarget();this.IsItemEnabled(c)&&(a=c.getAttribute(AdfDhtmlSelectOneListbasePeer._ITEM_VALUE_EXPANDO),AdfDomUtils.removeCSSClassName(c,AdfDhtmlSelectOneChoicePeer._HIGHLIGHTED_STYLE_CLASS),c=this.getDomElement(),this.SetDisplayValue(b,
c,a),this.ValidateAndStashNewValue(b,c,a),this._returnToDropDown(b))}}};AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentKeyUp=function(a){if(AdfBaseEvent.AT_TARGET_PHASE==a.getEventPhase()&&AdfAgent.IE_PLATFORM==AdfAgent.AGENT.getPlatform()&&AdfKeyStroke.ENTER_KEY==AdfAgent.AGENT.getKeyCode(a.getNativeEvent())){var b=a.getSource();a.cancel();AdfDhtmlEditableValuePeer.GetContentNode(b).blur();AdfFocusUtils.focusElement(this._getFocusElement(b))}};
AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentKeyDown=function(a){if(a.getEventPhase()==AdfBaseEvent.AT_TARGET_PHASE){var b=a.getSource();if(this._isCompactOrCustomModeSupported(b)&&!b.getReadOnly()&&!b.getDisabled()){var c=a.getNativeEventTarget(),d=a.getNativeEvent(),e=AdfAgent.AGENT.getKeyCode(d),f=this.getDomElement(),g=this.GetSubmittedValue(b,f),h=this.FindItemElementWithValue(b,g);switch(e){case AdfKeyStroke.ESC_KEY:a.cancel();this._returnToDropDown(b);break;case AdfKeyStroke.ENTER_KEY:this.isPopupVisible(b,
AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID)?(this.ValidateAndStashNewValue(b,f,g),this._returnToDropDown(b)):this._showPopupPanel(b);break;case AdfKeyStroke.TAB_KEY:this.isPopupVisible(b,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID)&&this._returnToDropDown(b);break;case AdfKeyStroke.ARROWDOWN_KEY:if(d.altKey){this._showPopupPanel(b);break}case AdfKeyStroke.ARROWUP_KEY:if(("A"==c.tagName||"INPUT"==c.tagName)&&!this.isPopupVisible(b,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID)){this._showPopupPanel(b);
a.cancel();break}(d=e==AdfKeyStroke.ARROWUP_KEY?this.GetPreviousEnabledItem(h):this.GetNextEnabledItem(h))||(d=this.GetFirstEnabledItem(b));c=this.isPopupVisible(b,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID);d!=h&&(h=""+d.getAttribute(AdfDhtmlSelectOneListbasePeer._ITEM_VALUE_EXPANDO),c?this.SetDisplayValue(b,f,h):this.ValidateAndStashNewValue(b,f,h));c&&a.cancel();break;case AdfKeyStroke.BACKSPACE_KEY:void 0!==b._keyboardValue&&(b._keyboardValue=b._keyboardValue.slice(0,-1))}}AdfAgent.IE_PLATFORM==
AdfAgent.AGENT.getPlatform()&&AdfKeyStroke.ENTER_KEY==AdfAgent.AGENT.getKeyCode(a.getNativeEvent())&&(a.cancel(),AdfFocusUtils.focusElement(this._getFocusElement(b)))}};
AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentKeyPress=function(a){var b=this.getComponent();if(this._isCompactOrCustomModeSupported(b)&&!b.getReadOnly()&&!b.getDisabled()){var c=a.getNativeEvent();AdfAgent.AGENT.getKeyCode(c)==AdfKeyStroke.SPACE_KEY&&a.cancel();void 0===b._keyboardValue&&(b._keyboardValue="");b._keyboardValue+=c.key;this._selectItemOnTyping(b,b._keyboardValue);a=AdfPage.PAGE;b._keyboardTimer?a.rescheduleTimer(b._keyboardTimer,AdfDhtmlSelectOneChoicePeer._KEYBOARD_TYPE_DELAY):
b._keyboardTimer=a.scheduleTimer(this,AdfDhtmlSelectOneChoicePeer._clearKeyboardValue,b,AdfDhtmlSelectOneChoicePeer._KEYBOARD_TYPE_DELAY)}};AdfDhtmlSelectOneChoicePeer.prototype.HandleDomChange=function(a,b){var c=this.getDomElement();this._isNativeSelectNotSupported(c)||this.ValidateAndStashNewValue(a,c)};
AdfDhtmlSelectOneChoicePeer.prototype.PopupClosed=function(a,b,c){c==AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID&&(c=AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlSelectOneChoicePeer._POPUP_WRAPPER_ID),AdfAgent.AGENT.getElementById(c).appendChild(b),b=AdfRichUIPeer.getDomElementForComponent(a),b=AdfDhtmlEditableValuePeer.GetContentNode(a,b),b.setAttribute("aria-expanded","false"),b.removeAttribute("aria-activedescendant"),AdfFocusUtils.focusElement(this._getFocusElement(a)))};
AdfDhtmlSelectOneChoicePeer.prototype.GetNoteWindowAlignmentNode=function(a,b){if(this._isNativeSelectNotSupported(b)){var c=this._getFocusElement(a);return this._isCompact(a)?c:c.parentNode}return this._getFocusElement(a)};AdfDhtmlSelectOneChoicePeer.prototype.GetComponentMode=function(a){return a.getMode()};
AdfDhtmlSelectOneChoicePeer.prototype.SetDisplayValue=function(a,b,c){var d=AdfDhtmlEditableValuePeer.GetContentNode(a,b);if(null!=d){var e=a.getReadOnly();AdfAssert.assertString(c);if(!e){e=this.FindItemElementWithValue(a,c);if(this._isCompactOrCustomModeSupported(a)){b=this.GetSubmittedValue(a,b);b=this.FindItemElementWithValue(a,b);this.SelectItemElement(a,e,b);b="";if(null!=e){var f=e.getAttribute("id");d.setAttribute("aria-activedescendant",f);e.firstChild&&(b=e.firstChild.nodeValue)}if(!this._isCompact(a)){AdfAgent.AGENT.getElementsByName(a.getClientId())[0].value=
c;d.value=b;d.title=b;return}}else e&&(d.title=e.title);d.value=c}}};AdfDhtmlSelectOneChoicePeer.prototype.ComponentValueChanged=function(a,b,c,d){this._removeComponentRenderedNoSelectItem(a,c);AdfDhtmlSelectOneChoicePeer.superclass.ComponentValueChanged.call(this,a,b,c,d)};AdfDhtmlSelectOneChoicePeer.prototype.GetSubmittedValue=function(a,b){return this._isCompact(a)||!this._isNativeSelectNotSupported(b)||a.getReadOnly()?AdfDhtmlSelectOneChoicePeer.superclass.GetSubmittedValue.call(this,a,b):AdfAgent.AGENT.getElementsByName(a.getClientId())[0].value};
AdfDhtmlSelectOneChoicePeer.prototype.GetItemElements=function(a){if(this._isCompactOrCustomModeSupported(a))return AdfDhtmlSelectOneChoicePeer.superclass.GetItemElements.call(this,a);var b=this.getDomElement();a=AdfDhtmlEditableValuePeer.GetContentNode(a,b);return null==a?null:a.options};
AdfDhtmlSelectOneChoicePeer.prototype.GetComponentSelectItems=function(a,b){if(this._isCompactOrCustomModeSupported(a))return AdfDhtmlSelectOneChoicePeer.superclass.GetComponentSelectItems.call(this,a,b);var c=AdfDhtmlEditableValuePeer.GetContentNode(a,b);if(null==c)return null;for(var d=[],e=c.options,f=e.length,c=0;c<f;c++)d[c]=new AdfSelectItem,d[c].setValue(e[c].value),d[c].setLabel(e[c].text),d[c].setDisabled(e[c].disabled);return d};
AdfDhtmlSelectOneChoicePeer.prototype.FindItemElementWithValue=function(a,b){if(this._isCompactOrCustomModeSupported(a))return AdfDhtmlSelectOneChoicePeer.superclass.FindItemElementWithValue.call(this,a,b);var c=this.getDomElement(),c=AdfDhtmlEditableValuePeer.GetContentNode(a,c);if(null==c)return null;for(var d=c.options,e=d.length,c=0;c<e;c++)if(d[c].value==b)return d[c];return null};AdfDhtmlSelectOneChoicePeer.prototype.GetInlineEditor=function(a){return AdfDhtmlSimpleLabelEditor.getInlineEditor()};
AdfDhtmlSelectOneChoicePeer.prototype.SetBusy=function(a){AdfAssert.assertBoolean(a);var b=this.getComponent();AdfAssert.assert(!b.getDisabled());AdfAssert.assert(!b.isDead());AdfDomUtils.addOrRemoveCSSClassName(a,this.getDomElement(),AdfRichUIPeer.DISABLED_STYLECLASS)};
AdfDhtmlSelectOneChoicePeer.prototype.ComponentDisabledChanged=function(a,b,c,d){a=AdfDhtmlEditableValuePeer.GetContentNode(a,b);1==c?(AdfDomUtils.addCSSClassName(b,AdfRichUIPeer.DISABLED_STYLECLASS),a.setAttribute("disabled","true")):(AdfDomUtils.removeCSSClassName(b,AdfRichUIPeer.DISABLED_STYLECLASS),a.removeAttribute("disabled"))};
AdfDhtmlSelectOneChoicePeer.prototype._adjustWidth=function(a,b){var c=!this._isNativeSelectNotSupported(b);if(!(a.getReadOnly()||c||this._isCompact(a))&&(c=AdfDhtmlEditableValuePeer.getContentNode(a,b),-1!==c.style.cssText.indexOf("width"))){var d=document.getElementById(AdfRichUIPeer.createSubId(a.getClientId(),AdfDhtmlSelectOneChoicePeer._DROPDOWN_ID)),d=AdfDhtmlSelectOneChoicePeer._getComputedWidth(c)-AdfDhtmlSelectOneChoicePeer._getComputedWidth(d);AdfDomUtils.addInlineStyle(c,"width: "+d+"px",
!0)}};AdfDhtmlSelectOneChoicePeer._getComputedWidth=function(a){a=getComputedStyle(a);return AdfAgent.AGENT.getPlatform()!=AdfAgent.IE_PLATFORM&&"border-box"==a.getPropertyValue("box-sizing")?parseFloat(a.getPropertyValue("width")):parseFloat(a.getPropertyValue("width"))+parseFloat(a.getPropertyValue("padding-left"))+parseFloat(a.getPropertyValue("padding-right"))+parseFloat(a.getPropertyValue("border-left-width"))+parseFloat(a.getPropertyValue("border-right-width"))};
AdfDhtmlSelectOneChoicePeer.prototype._removeComponentRenderedNoSelectItem=function(a,b){var c=this.FindItemElementWithValue(a,b);if(c&&(c=AdfAgent.AGENT.getAttribute(c,AdfDhtmlSelectOneChoicePeer._TEMP_OPTION_KEY),!c)){var d=this.GetItemElementsParent(a),e=this.GetFirstEnabledItem(a);(c=AdfAgent.AGENT.getAttribute(e,AdfDhtmlSelectOneChoicePeer._TEMP_OPTION_KEY))&&d.removeChild(e)}};
AdfDhtmlSelectOneChoicePeer.prototype._returnToDropDown=function(a){a.getClientId();var b=AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlSelectOneChoicePeer._POPUP_ID);AdfAgent.AGENT.getElementById(b);this.hidePopup(a,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID);AdfFocusUtils.focusElement(this._getFocusElement(a))};
AdfDhtmlSelectOneChoicePeer.prototype._showPopupPanel=function(a){AdfObject.ensureClassInitialization(AdfRichPopup);AdfObject.ensureClassInitialization(AdfDhtmlPopupWindow);var b=a.getClientId(),c=AdfRichUIPeer.CreateSubId(b,AdfDhtmlSelectOneChoicePeer._SPACER_ID),c=AdfAgent.AGENT.getElementById(c),d=AdfRichUIPeer.CreateSubId(b,AdfDhtmlSelectOneChoicePeer._POPUP_ID),d=AdfAgent.AGENT.getElementById(d),e={};e[AdfRichPopup.HINT_ALIGN]=AdfRichPopup.ALIGN_AFTER_START;if(this._isCompact(a))e[AdfDhtmlPopupHints.TYPE]=
AdfDhtmlPopupHints.TYPE_MENU,e[AdfDhtmlPopupHints.AUTODISMISS]=AdfDhtmlPopupHints.AUTODISMISS_MENU,e[AdfDhtmlPopupHints.FOCUS]=!1,e[AdfRichPopup.HINT_ALIGN_ID]=AdfRichUIPeer.CreateSubId(b,AdfDhtmlSelectOneChoicePeer._DROPDOWN_ID);else{AdfDhtmlEditableValuePeer.getContentNode(a).setAttribute("aria-expanded","true");var b=AdfRichUIPeer.CreateSubId(b,AdfDhtmlSelectOneChoicePeer._CONTENT_ID),f=AdfAgent.AGENT.getElementById(b);if(f.disabled)return;AdfDomUtils.containsCSSClassName(d,AdfDhtmlSelectOneChoicePeer._SCROLL_STYLE)?
c.style.width=f.parentNode.offsetWidth-23+"px":c.style.width=f.parentNode.offsetWidth-7+"px";e[AdfDhtmlPopupHints.TYPE]=AdfDhtmlPopupHints.TYPE_MENU;e[AdfDhtmlPopupHints.AUTODISMISS]=AdfDhtmlPopupHints.AUTODISMISS_MENU;e[AdfDhtmlPopupHints.FOCUS]=!1;e[AdfRichPopup.HINT_ALIGN_ID]=b;e[AdfDhtmlPopupWindow.HINT_ANIMATE]=AdfRichPopup.ANIMATE_FALSE}d.parentNode.removeChild(d);this.showPopup(a,d,e,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID);AdfDomUtils.containsCSSClassName(d,AdfDhtmlSelectOneChoicePeer._SCROLL_STYLE)&&
(c=this.getDomElement(),c=this.GetSubmittedValue(a,c),c=this.FindItemElementWithValue(a,c),this.SelectItemElement(a,c))};AdfDhtmlSelectOneChoicePeer.prototype._isCompact=function(a){return this.GetComponentMode(a)==AdfDhtmlSelectOneChoicePeer._COMPACT};AdfDhtmlSelectOneChoicePeer.prototype._isNativeSelectNotSupported=function(a){a||(a=this.getDomElement());return 0==a.getElementsByTagName("select").length};
AdfDhtmlSelectOneChoicePeer.prototype._isCompactOrCustomModeSupported=function(a){return this._isCompact(a)||this._isNativeSelectNotSupported()};AdfDhtmlSelectOneChoicePeer.prototype._getFocusElement=function(a){if(this._isCompact(a))a=AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlSelectOneChoicePeer._DROPDOWN_ID);else{var b=AdfDhtmlSelectOneChoicePeer._CONTENT_ID;a=AdfRichUIPeer.CreateSubId(a.getClientId(),b)}return AdfAgent.AGENT.getElementById(a)};
AdfDhtmlSelectOneChoicePeer._clearKeyboardValue=function(a){delete a._keyboardTimer;delete a._keyboardValue};AdfDhtmlSelectOneChoicePeer.prototype._selectItemOnTyping=function(a,b){var c=a.getSelectItems(),d=c.length,e=this._selectedItemIndex(c),f=e;1==b.trim().length&&(f=e+1);this._selectMatchingItem(c,f,d,b)||this._selectMatchingItem(c,0,f,b)};
AdfDhtmlSelectOneChoicePeer.prototype._selectMatchingItem=function(a,b,c,d){for(var e=null,f=this.getDomElement(),g=this.getComponent();b<c;b++)if(e=a[b],!e.isDisabled()&&AdfDhtmlSelectOneChoicePeer._matcher(e.getLabel(),d))return a=""+e.getValue(),this.SetDisplayValue(g,f,a),!0;return!1};
AdfDhtmlSelectOneChoicePeer.prototype._selectedItemIndex=function(a){for(var b=null,b=this.getDomElement(),c=this.getComponent(),c=this.GetSubmittedValue(c,b),d=a.length,e=0;e<d;e++)if(b=a[e],b.getValue()==c)return e;return 0};AdfDhtmlSelectOneChoicePeer._matcher=function(a,b){return 0===a.toLocaleUpperCase().indexOf(b.toUpperCase())};
AdfDhtmlSelectOneChoicePeer.prototype.GetItemElementsParent=function(a){var b=a.getClientId();return this._isCompactOrCustomModeSupported(a)?AdfAgent.AGENT.getElementById(AdfRichUIPeer.CreateSubId(b,AdfDhtmlSelectOneChoicePeer._POPUP_ID)):AdfAgent.AGENT.getElementById(AdfRichUIPeer.CreateSubId(b,AdfDhtmlSelectOneChoicePeer._CONTENT_ID))};
AdfDhtmlSelectOneChoicePeer.prototype.IsItemEnabled=function(a){return"OPTION"==a.nodeName?!a.hasAttribute("disabled"):AdfDhtmlSelectOneChoicePeer.superclass.IsItemEnabled.call(this,a)};
AdfDhtmlSelectOneChoicePeer._getLabelElementInCompactMode=function(a){AdfAssert.assert(a.getMode()==AdfDhtmlSelectOneChoicePeer._COMPACT,"component not in compact mode");var b=AdfRichUIPeer.createSubId(a.getClientId(),AdfDhtmlSelectOneChoicePeer._DROPDOWN_ID),b=document.querySelector("label[for\x3d'"+b+"']");b||(a=AdfDhtmlEditableValuePeer.getContentNode(a),b=AdfDhtmlEditableValuePeer.GetLabelElement(a));return b};